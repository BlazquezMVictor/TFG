program
  version
    OPENQASM
    3
    ;
  statementOrScope
    statement
      includeStatement
        include
        "stdgates.inc"
        ;
  statementOrScope
    statement
      classicalDeclarationStatement
        scalarType
          int
        a
        =
        declarationExpression      
          expression
            0
        ;
  statementOrScope
    statement
      classicalDeclarationStatement
        scalarType
          int
        b
        =
        declarationExpression
          expression
            1
        ;
  statementOrScope
    statement
      classicalDeclarationStatement
        scalarType
          int
        c
        =
        declarationExpression
          expression
            0
        ;
  statementOrScope
    statement
      quantumDeclarationStatement
        qubitType
          qubit
          designator
            [
            expression
              5
            ]
        targets
        ;
  statementOrScope
    statement
      quantumDeclarationStatement
        qubitType
          qubit
          designator
            [
            expression
              5
            ]
        controls
        ;
  statementOrScope
    statement
      ifStatement
        if
        (
        expression
          expression
            (
            expression
              expression
                a
              ==
              expression
                b
            )
          &&
          expression
            (
            expression
              expression
                a
              ==
              expression
                c
            )
        )
        statementOrScope
          scope
            {
            statementOrScope
              statement
                assignmentStatement
                  indexedIdentifier
                    c
                  =
                  expression
                    2
                  ;
            statementOrScope
              statement
                ifStatement
                  if
                  (
                  expression
                    expression
                      c
                    >=
                    expression
                      b
                  )
                  statementOrScope
                    scope
                      {
                      statementOrScope
                        statement
                          gateCallStatement
                            h
                            gateOperandList
                              gateOperand
                                indexedIdentifier
                                  targets
                                  indexOperator
                                    [
                                    expression
                                      0
                                    ]
                            ;
                      statementOrScope
                        statement
                          gateCallStatement
                            gateModifier
                              ctrl
                              @
                            x
                            gateOperandList
                              gateOperand
                                indexedIdentifier
                                  controls
                                  indexOperator
                                    [
                                    expression
                                      0
                                    ]
                              ,
                              gateOperand
                                indexedIdentifier
                                  targets
                                  indexOperator
                                    [
                                    expression
                                      1
                                    ]
                            ;
                      }
                  else
                  statementOrScope
                    scope
                      {
                      statementOrScope
                        statement
                          assignmentStatement
                            indexedIdentifier
                              c
                            =
                            expression
                              7
                            ;
                      }
            }
        else
        statementOrScope
          scope
            {
            statementOrScope
              statement
                assignmentStatement
                  indexedIdentifier
                    a
                  =
                  expression
                    2
                  ;
            }
  statementOrScope
    statement
      ifStatement
        if
        (
        expression
          expression
            a
          ==
          expression
            b
        )
        statementOrScope
          scope
            {
            statementOrScope
              statement
                ifStatement
                  if
                  (
                  expression
                    expression
                      c
                    ==
                    expression
                      0
                  )
                  statementOrScope
                    scope
                      {
                      statementOrScope
                        statement
                          assignmentStatement
                            indexedIdentifier
                              a
                            =
                            expression
                              3
                            ;
                      }
            }
        else
        statementOrScope
          scope
            {
            statementOrScope
              statement
                assignmentStatement
                  indexedIdentifier
                    a
                  =
                  expression
                    2
                  ;
            }
  <EOF>